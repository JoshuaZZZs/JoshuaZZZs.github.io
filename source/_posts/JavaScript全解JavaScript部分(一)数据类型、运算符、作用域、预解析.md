---
title: JavaScript全解:JavaScript部分(一)数据类型、运算符、作用域、预解析
date: 2020-3-20 18:22:55
tags:
	- 前端
	- JavaScript全解
	- JS
categories:
	- web前端
---

![](JavaScript全解JavaScript部分(一)数据类型、运算符、作用域、预解析/web.png)

# JavaScript

# 导读

> 前言：学习任何新东西前都最好对其有一个系统化的了解，以便构建合理完整的知识体系，学习JS也一样对它有一个整体的认知之后学习起来才能事半功倍

**JavaScript结构**



![](JavaScript全解JavaScript部分(一)数据类型、运算符、作用域、预解析/js组成.jpg)

参考上面结构能很明显的知道有三部分组成(也可以认为是两部分，Dom可以认为被包含在Bom内)：

<!--more-->

1. **ECMAScript**

   这是JavaScript的核心，不过它仅仅是一个概念，它定义了该脚本语言的所有属性，方法和对象，比如语法、类型、语句、关键字、保留字、运算符、对象等内容，每一个浏览器厂商都有各自的 ECMAScript 接口实现，然后这个实现又被扩展，也包含了 DOM 和 BOM。

2. **DOM**

   DOM（*Document Object Model 文档对象模型*）是 HTML 和 XML 的应用程序接口（API）。DOM 将把整个页面规划成由节点层级构成的文档。HTML 或 XML 页面的每个部分都是一个节点的衍生物。DOM 通过创建树来表示文档，浏览器 动过DOM树来解释和执行对应的操作，也就是我们说的渲染节点，同时也提供了一系列的API让我们去操作节点。

3. **BOM**

   BOM(*Browser Object Model浏览器对象模型* )可以对浏览器窗口进行访问和操作，使用 BOM提供的API开发者可以对浏览器进行操作实现类似于：移动窗口、改变状态栏中的文本以及执行其他与页面内容不直接相关的动作。但是由于没有相关的 BOM 标准，每个浏览器厂商对于其实现也会有部分不一样。

该篇只介绍第一部分也就是JavaScript的基础语法

# JavaScript 

## 数据类型

1. 简单数据类型性：

   > 也叫值类型，对应的数据会直接存放在栈里面，赋值的时候直接把对应的值复制过去

   - Number(数字类型):放的是一切数字整数，浮点型等

     > 数字类型会存在三个特殊值
     >
     > 1. infinity：无穷大，大于任何一个数
     > 2. -infinity：无穷小，小于任何一个数
     > 3. NaN：Not a Number 不是一个数字(在运算时可能出现)可以用isNaN判断

   - String(字符串类型)：单个字符或者字符串，在`‘’或者“”`内的所有内容都被认为是字符串

     > `\`这个是转义符用来将某些特殊字符转义成字符串
     >
     > ``'\n'``:换行
     >
     > `'\t'`z制表符...

   - Boolean(布尔值):只有true和false两种，表示是或非

     > Boolean值存在能够和其他类型相互转换的情况eg：
     >
     > Boolean(0):false;Boolean(5):true;Boolean(''):false;Boolean('a'):true;Boolean(null):false

   - Undefined(定义未赋值):变量被声明但未被赋值的时候，此时该声明获得的一个默认数据类型

     > undefined+1(NAN),undefined+'a'(undefineda)undefined+true(NAN)

   - null(空)：变量被声明且被赋值，只是赋值为空

     > null+1(1),null+'a'(nulla),null+true(1)

2. 复杂类型：

   > 也叫做引用类型，引用类型的值存在堆内存当中，在使用时栈里面存放的是一个对真实地址的引用一般用16进制表示。所以简单赋值(浅拷贝)的时候仅仅只是新建了一个对于同一块内容的引用而已

   - Object(对象)

     实际上只有这一个类型，其他的一切复杂类型(Array,Set,Map...)都是对Object的实例或者拓展而已

## 运算符

1. 算数运算符：+，-，*，/，%

2. 前、后置预算符：

   - `++a`前置预算:先自增1后返回` var a=1 console.log(++a)//2 a=2`
   - `a++`后置预算:先自增1后返回` var a=1 console.log(a++)//1 a=2`

3. 比较运算符：判断符号两边表达式是否符合预算的语义，返回true或false`>,<,<=,>=,==`

   > ===,!==：全等因为js会有隐式转换，该运算符会比较两边的值和类型是否相同
   >
   > Object.is():ES6新增方法，弥补===的问题+0===-0//true等

4. 逻辑运算符：构建判断表达式返回true或false

   1. &&(与)：两侧都符合返回true

   2. ||(或)：两侧有一侧符合返回true

   3. ！(非)：返回表达式布尔值的相反值

      > 短路逻辑运算参与运算(两边都是值)：
      >
      > a&&b：当a为真返回b,当a为假返回a `console.log(1&&2)//2 console.log(0&&2)//0`
      >
      > a||b：当a为真返回a,当a为假返回b `console.log(1||2)//1 console.log(0||2)//2`

## 函数

### 函数声明

1. 关键字命名：`function name(){}`
2. 表达式命名(匿名函数):`var fn=function(){}`

### 参数对象

 arguments是所有函数默认的内置对象，里面存放了调用函数时接收的所有对象

## 作用域

> 是一块独立的区域，该区域内的所有变量，函数等都只能在该区域内使用，外部无法访问。两个作用域互不影响，也无法联通

- 全局作用域：	整个`<script/>`标签内或者一个单个js文件内

- 局部作用域(函数作用域)：在一个特殊范围内起效果，如函数内部

### 变量作用域

- 全部变量:全局作用域内声明的变量，浏览器关闭时被销毁

- 局部变量:局部作用域内声明的变量，函数调用结束时被销毁

- 自由变量:局部作用域内未声明的变量，直接未被赋值时会被视为全局作用域内的变量

  ```js
  function fn (){
      var num1=10
      num2=20//自由变量
  }
  console.log(num1)//10
  console.log(num2)//20
  ```

### 作用域链

-  概念：在js 中有一个最大的全局作用域，在该作用域下的会有若干单个或嵌套的局部作用域，在某一个局部作用域可以访问其父级作用域内的所有内容，而父级作用域又可以访问包含它的父级作用域内的所有内容，一直到全局作用域。这种层层传递的层级关系叫做作用域链

- 作用域取值：(就近原则)在函数执行需要使用某个变量时会先从内部作用域开始查找，若有就使用。若没有往父级作用域查找一直到查找到全局作用域

  ```js
  function fn1(){
      var a=1
      var b=2
      fn2();
      function fn2(){
          var a=3
          fn3()
          function fn3(){
              var a=4
              console.log(a)
              console.log(b)
          }
      }
  }
  fn1();//a=4,b=2
  ```

  ## 预解析

  js是一门解释型语言，js引擎在执行时会有两个过程：预解析和执行代码

  ### 变量提升和函数提升

  在js预解析时会把作用域内的所有变量声明放到该作用域最前面,但是不会提升赋值操作

  > 下例以变量为例，函数类似

  ```js
  var num1=1           
  console.log(num1)//1
  /**
  var num1,num1=1,
  console.log(num1)
  */
  console.log(num2)//undefined
  var num2=2
  /**
  var num2
  console.log(num1)
  num2=2
  */
  fn1()//报错
  var fn1=function (){console.log(3)}
  /**
  var fn1
  console.log(fn1)
  fn1=function (){console.log(3)}
  */
  ```

  